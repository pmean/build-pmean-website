---
title: "Convert html to markdown"
author: "Steve Simon"
date: "6/12/2019"
output: html_document
---

```{r setup}
knitr::opts_chunk$set(echo = FALSE)
library(rmarkdown)
verbose <- TRUE
```

Note: I am having problems with non UTF-8 characters. According to one website, I can search for the offending lines using the regular expression "[\x80-\xFF]".

```{r get-html}
html_path <- "c:/wd/05"
md_path <- "c:/wa/05"
html_files <- list.files(path=html_path, pattern="*.html")
if (verbose) {print(html_files)}
```

```{r conversion}
for (i in 1:length(html_files)) {
  f <- paste0(html_path, "/", html_files[i])
  g <- paste0(md_path, "/", strsplit(html_files[i], "\\.")[[1]][1], ".md")
  print(f)
  print(g)
  pandoc_convert(f, to="markdown_strict", wd="wd", output=g)
}
```